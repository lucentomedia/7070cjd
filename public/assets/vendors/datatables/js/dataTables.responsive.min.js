!function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,r){"use strict";var i=e.fn.dataTable,s=function(t,n){if(!i.versionCheck||!i.versionCheck("1.10.3"))throw"DataTables Responsive requires DataTables 1.10.3 or newer";this.s={dt:new i.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(n&&"string"==typeof n.details?n.details={type:n.details}:n&&n.details===!1?n.details={type:!1}:n&&n.details===!0&&(n.details={type:"inline"}),this.c=e.extend(!0,{},s.defaults,i.defaults.responsive,n),t.responsive=this,this._constructor())};e.extend(s.prototype,{_constructor:function(){var n=this,r=this.s.dt,s=r.settings()[0],a=e(t).width();r.settings()[0]._responsive=this,e(t).on("resize.dtr orientationchange.dtr",i.util.throttle(function(){var r=e(t).width();r!==a&&(n._resize(),a=r)})),s.oApi._fnCallbackReg(s,"aoRowCreatedCallback",function(t,i,s){-1!==e.inArray(!1,n.s.current)&&e(">td, >th",t).each(function(t){var i=r.column.index("toData",t);n.s.current[i]===!1&&e(this).css("display","none")})}),r.on("destroy.dtr",function(){r.off(".dtr"),e(r.table().body()).off(".dtr"),e(t).off("resize.dtr orientationchange.dtr"),e.each(n.s.current,function(e,t){t===!1&&n._setColumnVis(e,!0)})}),this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0}),this._classLogic(),this._resizeAuto();var o=this.c.details;o.type!==!1&&(n._detailsInit(),r.on("column-visibility.dtr",function(e,t,r,i){n._classLogic(),n._resizeAuto(),n._resize()}),r.on("draw.dtr",function(){n._redrawChildren()}),e(r.table().node()).addClass("dtr-"+o.type)),r.on("column-reorder.dtr",function(e,t,r){n._classLogic(),n._resizeAuto(),n._resize()}),r.on("column-sizing.dtr",function(){n._resizeAuto(),n._resize()}),r.on("preXhr.dtr",function(){var e=[];r.rows().every(function(){this.child.isShown()&&e.push(this.id(!0))}),r.one("draw.dtr",function(){r.rows(e).every(function(){n._detailsDisplay(this,!1)})})}),r.on("init.dtr",function(t,i,s){n._resizeAuto(),n._resize(),e.inArray(!1,n.s.current)&&r.columns.adjust()}),this._resize()},_columnsVisiblity:function(t){var i,s,n=this.s.dt,r=this.s.columns,a=r.map(function(e,t){return{columnIdx:t,priority:e.priority}}).sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.columnIdx-t.columnIdx}),o=e.map(r,function(n){return n.auto&&null===n.minWidth?!1:n.auto===!0?"-":-1!==e.inArray(t,n.includeIn)}),d=0;for(i=0,s=o.length;s>i;i++)o[i]===!0&&(d+=r[i].minWidth);var l=n.settings()[0].oScroll,c=l.sY||l.sX?l.iBarWidth:0,u=n.table().container().offsetWidth-c,f=u-d;for(i=0,s=o.length;s>i;i++)r[i].control&&(f-=r[i].minWidth);var h=!1;for(i=0,s=a.length;s>i;i++){var p=a[i].columnIdx;"-"===o[p]&&!r[p].control&&r[p].minWidth&&(h||f-r[p].minWidth<0?(h=!0,o[p]=!1):o[p]=!0,f-=r[p].minWidth)}var v=!1;for(i=0,s=r.length;s>i;i++)if(!r[i].control&&!r[i].never&&!o[i]){v=!0;break}for(i=0,s=r.length;s>i;i++)r[i].control&&(o[i]=v);return-1===e.inArray(!0,o)&&(o[0]=!0),o},_classLogic:function(){var t=this,i=this.c.breakpoints,s=this.s.dt,a=s.columns().eq(0).map(function(t){var n=this.column(t),i=n.header().className,a=s.settings()[0].aoColumns[t].responsivePriority;if(a===r){var o=e(n.header()).data("priority");a=o!==r?1*o:1e4}return{className:i,includeIn:[],auto:!1,control:!1,never:i.match(/\bnever\b/)?!0:!1,priority:a}}),o=function(t,n){var r=a[t].includeIn;-1===e.inArray(n,r)&&r.push(n)},d=function(e,n,r,s){var d,l,c;if(r){if("max-"===r)for(d=t._find(n).width,l=0,c=i.length;c>l;l++)i[l].width<=d&&o(e,i[l].name);else if("min-"===r)for(d=t._find(n).width,l=0,c=i.length;c>l;l++)i[l].width>=d&&o(e,i[l].name);else if("not-"===r)for(l=0,c=i.length;c>l;l++)-1===i[l].name.indexOf(s)&&o(e,i[l].name)}else a[e].includeIn.push(n)};a.each(function(t,n){for(var r=t.className.split(" "),s=!1,a=0,o=r.length;o>a;a++){var l=e.trim(r[a]);if("all"===l)return s=!0,void(t.includeIn=e.map(i,function(e){return e.name}));if("none"===l||t.never)return void(s=!0);if("control"===l)return s=!0,void(t.control=!0);e.each(i,function(e,t){var r=t.name.split("-"),i=new RegExp("(min\\-|max\\-|not\\-)?("+r[0]+")(\\-[_a-zA-Z0-9])?"),a=l.match(i);a&&(s=!0,a[2]===r[0]&&a[3]==="-"+r[1]?d(n,t.name,a[1],a[2]+a[3]):a[2]!==r[0]||a[3]||d(n,t.name,a[1],a[2]))})}s||(t.auto=!0)}),this.s.columns=a},_detailsDisplay:function(t,n){var r=this,i=this.s.dt,s=this.c.details;if(s&&s.type!==!1){var a=s.display(t,n,function(){return s.renderer(i,t[0],r._detailsObj(t[0]))});(a===!0||a===!1)&&e(i.table().node()).triggerHandler("responsive-display.dt",[i,t,a,n])}},_detailsInit:function(){var t=this,n=this.s.dt,r=this.c.details;"inline"===r.type&&(r.target="td:first-child, th:first-child"),n.on("draw.dtr",function(){t._tabIndexes()}),t._tabIndexes(),e(n.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&e(this).data("dtr-keyboard")&&e(this).click()});var i=r.target,s="string"==typeof i?i:"td, th";e(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",s,function(r){if(e(n.table().node()).hasClass("collapsed")&&-1!==e.inArray(e(this).closest("tr").get(0),n.rows().nodes().toArray())){if("number"==typeof i){var s=0>i?n.columns().eq(0).length+i:i;if(n.cell(this).index().column!==s)return}var a=n.row(e(this).closest("tr"));"click"===r.type?t._detailsDisplay(a,!1):"mousedown"===r.type?e(this).css("outline","none"):"mouseup"===r.type&&e(this).blur().css("outline","")}})},_detailsObj:function(t){var n=this,r=this.s.dt;return e.map(this.s.columns,function(e,i){return e.never||e.control?void 0:{title:r.settings()[0].aoColumns[i].sTitle,data:r.cell(t,i).render(n.c.orthogonal),hidden:r.column(i).visible()&&!n.s.current[i],columnIndex:i,rowIndex:t}})},_find:function(e){for(var t=this.c.breakpoints,n=0,r=t.length;r>n;n++)if(t[n].name===e)return t[n]},_redrawChildren:function(){var e=this,t=this.s.dt;t.rows({page:"current"}).iterator("row",function(n,r){t.row(r);e._detailsDisplay(t.row(r),!0)})},_resize:function(){var d,l,n=this,r=this.s.dt,i=e(t).width(),s=this.c.breakpoints,a=s[0].name,o=this.s.columns,c=this.s.current.slice();for(d=s.length-1;d>=0;d--)if(i<=s[d].width){a=s[d].name;break}var u=this._columnsVisiblity(a);this.s.current=u;var f=!1;for(d=0,l=o.length;l>d;d++)if(u[d]===!1&&!o[d].never&&!o[d].control){f=!0;break}e(r.table().node()).toggleClass("collapsed",f);var h=!1;r.columns().eq(0).each(function(e,t){u[t]!==c[t]&&(h=!0,n._setColumnVis(e,u[t]))}),h&&(this._redrawChildren(),e(r.table().node()).trigger("responsive-resize.dt",[r,this.s.current]))},_resizeAuto:function(){var t=this.s.dt,n=this.s.columns;if(this.c.auto&&-1!==e.inArray(!0,e.map(n,function(e){return e.auto}))){var s=(t.table().node().offsetWidth,t.columns,t.table().node().cloneNode(!1)),a=e(t.table().header().cloneNode(!1)).appendTo(s),o=e(t.table().body()).clone(!1,!1).empty().appendTo(s),d=t.columns().header().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell");e(o).append(e(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var l=t.table().footer();if(l){var c=e(l.cloneNode(!1)).appendTo(s),u=t.columns().footer().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell");e("<tr/>").append(u).appendTo(c)}e("<tr/>").append(d).appendTo(a),"inline"===this.c.details.type&&e(s).addClass("dtr-inline collapsed"),e(s).find("[name]").removeAttr("name");var f=e("<div/>").css({width:1,height:1,overflow:"hidden"}).append(s);f.insertBefore(t.table().node()),d.each(function(e){var r=t.column.index("fromVisible",e);n[r].minWidth=this.offsetWidth||0}),f.remove()}},_setColumnVis:function(t,n){var r=this.s.dt,i=n?"":"none";e(r.column(t).header()).css("display",i),e(r.column(t).footer()).css("display",i),r.column(t).nodes().to$().css("display",i)},_tabIndexes:function(){var t=this.s.dt,n=t.cells({page:"current"}).nodes().to$(),r=t.settings()[0],i=this.c.details.target;n.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");var s="number"==typeof i?":eq("+i+")":i;"td:first-child, th:first-child"===s&&(s=">td:first-child, >th:first-child"),e(s,t.rows({page:"current"}).nodes()).attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1)}}),s.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],s.display={childRow:function(t,n,r){return n?e(t.node()).hasClass("parent")?(t.child(r(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),e(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,n,r){return!n&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),e(t.node()).addClass("parent"),!0)},modal:function(t){return function(r,i,s){if(i)e("div.dtr-modal-content").empty().append(s());else{var a=function(){o.remove(),e(n).off("keypress.dtr")},o=e('<div class="dtr-modal"/>').append(e('<div class="dtr-modal-display"/>').append(e('<div class="dtr-modal-content"/>').append(s())).append(e('<div class="dtr-modal-close">&times;</div>').click(function(){a()}))).append(e('<div class="dtr-modal-background"/>').click(function(){a()})).appendTo("body");e(n).on("keyup.dtr",function(e){27===e.keyCode&&(e.stopPropagation(),a())})}t&&t.header&&e("div.dtr-modal-content").prepend("<h2>"+t.header(r)+"</h2>")}}},s.renderer={listHidden:function(){return function(t,n,r){var i=e.map(r,function(e){return e.hidden?'<li data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+'</span> <span class="dtr-data">'+e.data+"</span></li>":""}).join("");return i?e('<ul data-dtr-index="'+n+'" class="dtr-details"/>').append(i):!1}},tableAll:function(t){return t=e.extend({tableClass:""},t),function(n,r,i){var s=e.map(i,function(e){return'<tr data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>"}).join("");return e('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(s)}}},s.defaults={breakpoints:s.breakpoints,auto:!0,details:{display:s.display.childRow,renderer:s.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var a=e.fn.dataTable.Api;return a.register("responsive()",function(){return this}),a.register("responsive.index()",function(t){return t=e(t),{column:t.data("dtr-index"),row:t.parent().data("dtr-index")}}),a.register("responsive.rebuild()",function(){return this.iterator("table",function(e){e._responsive&&e._responsive._classLogic()})}),a.register("responsive.recalc()",function(){return this.iterator("table",function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())})}),a.register("responsive.hasHidden()",function(){var t=this.context[0];return t._responsive?-1!==e.inArray(!1,t._responsive.s.current):!1}),s.version="2.1.1",e.fn.dataTable.Responsive=s,e.fn.DataTable.Responsive=s,e(n).on("preInit.dt.dtr",function(t,n,r){if("dt"===t.namespace&&(e(n.nTable).hasClass("responsive")||e(n.nTable).hasClass("dt-responsive")||n.oInit.responsive||i.defaults.responsive)){var a=n.oInit.responsive;a!==!1&&new s(n,e.isPlainObject(a)?a:{})}}),s});